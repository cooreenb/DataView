# DataView - 轻量级表格数据展示系统

一个基于 PHP + JSON 的轻量级数据展示系统，采用 Apple 风格毛玻璃 UI 设计，无需数据库，开箱即用。

## ✨ 功能特性

### 前台展示
- 🎨 **毛玻璃 UI** - Apple 风格半透明设计，蓝白配色，现代简约
- 📊 **表格数据展示** - 支持多模块、多列数据展示
- 🃏 **内容卡片** - 支持内容块以卡片形式展示，自适应多列/水平滑动布局
- 🔍 **实时搜索** - 支持全局搜索，快速定位数据
- 📱 **响应式设计** - 完美适配 PC、平板、手机等设备
- 🧭 **悬浮导航** - 侧边导航面板，快速跳转模块

### 后台管理
- 🔐 **密码保护** - Session 验证，安全登录
- 📝 **模块管理** - 新建、编辑、删除展示模块
- 📋 **数据管理** - 表格数据增删改查
- 🎴 **内容块管理** - 支持添加内容卡片，可置于表格上方或下方
- 🔀 **拖拽排序** - 模块、数据行、表头列均支持拖拽排序
- ✅ **批量操作** - 支持批量选择删除模块和数据行
- 📊 **数据统计** - 实时显示模块数、数据行数、文件大小等
- 📤 **导入导出** - JSON 格式数据导入导出

### 技术亮点
- 💾 **无数据库** - 纯 JSON 文件存储，部署简单
- 🛡️ **安全存储** - 数据文件采用 PHP 伪装头保护
- ⚡ **高性能** - 轻量级设计，响应迅速
- 🌐 **零配置** - 无需伪静态，上传即用

## 🛠️ 技术栈

| 类型 | 技术 |
|------|------|
| 后端语言 | PHP 7.4 ~ 8.2 |
| 前端框架 | Vue.js 3 (CDN) |
| 拖拽排序 | SortableJS (CDN) |
| 数据存储 | JSON 文件 (.db.php) |
| UI 风格 | Glassmorphism (毛玻璃效果) |

## 📁 目录结构

```
├── index.php           # 前台展示页面
├── api.php             # 数据接口
├── config.php          # 配置文件（密码、站点标题等）
├── admin/              # 后台管理目录（建议重命名）
│   └── index.php       # 后台管理界面
├── data/               # 数据存储目录
│   ├── .htaccess       # Apache 访问限制
│   ├── index.php       # 目录保护
│   └── *.db.php        # 数据文件
└── README.md           # 项目说明
```

## 🚀 部署指南

### 环境要求

- PHP 7.4 或更高版本（推荐 8.0+）
- Nginx 或 Apache 服务器
- `data/` 目录需要写入权限

### 快速部署（宝塔面板）

1. **上传文件**
   ```
   将所有文件上传到网站根目录或子目录
   ```

2. **设置目录权限**
   ```
   将 data/ 目录权限设置为 755 或 777
   ```

3. **修改配置**（重要！）
   
   编辑 `config.php` 文件：
   ```php
   // 修改管理密码（必须！）
   define('ADMIN_PASSWORD', '你的新密码');
   
   // 修改网站标题（可选）
   define('SITE_TITLE', '你的网站标题');
   ```

4. **重命名后台目录**（强烈建议）
   ```
   将 admin/ 目录重命名为不易猜测的名称，如 manage_xyz/
   ```

5. **访问网站**
   ```
   前台：https://你的域名/
   后台：https://你的域名/admin/（或重命名后的路径）
   ```

### 手动部署

```bash
# 克隆或下载项目
git clone https://github.com/your-repo/dataview.git

# 设置目录权限
chmod -R 755 data/

# 配置 Web 服务器指向项目目录
# Nginx 或 Apache 均可，无需特殊配置
```

## 📖 使用说明

### 首次登录

1. 访问后台管理页面（默认 `/admin/`）
2. 输入管理密码（默认密码见 `config.php`）
3. **首次使用请立即修改默认密码**

### 创建展示模块

1. 登录后台，点击「新建」按钮
2. 填写模块标题和表头列名
3. 可选填写模块简介（支持 HTML）
4. 保存后即可在前台看到新模块

### 添加数据

1. 展开对应模块
2. 点击「添加数据」按钮
3. 填写各列内容（支持 HTML 格式）
4. 保存即时生效

### 添加内容卡片

1. 展开对应模块
2. 点击「添加内容块」按钮
3. 填写标题和内容（支持 HTML）
4. 选择显示位置（表格上方/下方）
5. 支持拖拽调整卡片顺序

### 数据导入导出

- **导出**：点击「导出」按钮下载 JSON 文件
- **导入**：点击「导入」选择 JSON 文件，支持合并或替换

## ⚙️ 配置说明

### config.php 配置项

```php
<?php
// 管理员密码（部署后必须修改！）
define('ADMIN_PASSWORD', 'your_secure_password');

// 网站标题
define('SITE_TITLE', '数据展示系统');

// 数据文件名（自动生成，一般无需修改）
define('DATA_FILE_NAME', 'storage_xxxxxx.db.php');

// Session 有效期（秒）
define('SESSION_LIFETIME', 86400);

// 调试模式（生产环境请设为 false）
define('DEBUG_MODE', false);

// 版本号
define('VERSION', '1.0.0');
```

## 🔒 安全建议

> ⚠️ **重要提示**：部署到生产环境前，请务必完成以下安全配置！

### 必须执行

1. **修改默认密码**
   - 编辑 `config.php`，将 `ADMIN_PASSWORD` 改为强密码
   - 密码建议：12位以上，包含大小写字母、数字、特殊字符

2. **重命名后台目录**
   - 将 `admin/` 重命名为难以猜测的名称
   - 例如：`manage_a1b2c3/`、`ctrl_panel_xyz/`

3. **检查目录权限**
   - 确保 `data/` 目录权限为 755
   - 确保 `.db.php` 文件不可被直接下载

### 建议执行

4. **启用 HTTPS**
   - 配置 SSL 证书，强制 HTTPS 访问

5. **关闭调试模式**
   - 生产环境将 `DEBUG_MODE` 设为 `false`

6. **定期备份**
   - 定期备份 `data/` 目录中的数据文件

7. **访问日志**
   - 开启 Web 服务器访问日志，监控异常访问

## 🌐 兼容性

| 环境 | 支持情况 |
|------|----------|
| PHP 7.4 | ✅ 支持 |
| PHP 8.0 | ✅ 支持 |
| PHP 8.1 | ✅ 支持 |
| PHP 8.2 | ✅ 支持 |
| Nginx | ✅ 支持（无需伪静态） |
| Apache | ✅ 支持（无需伪静态） |
| 子目录部署 | ✅ 支持（自动识别路径） |

### 浏览器支持

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 📝 更新日志

### v1.0.0
- 🎉 首次发布
- ✨ 前台数据展示（表格 + 内容卡片）
- ✨ 后台内容管理（CRUD + 拖拽排序）
- ✨ 批量删除功能
- ✨ 数据导入导出
- ✨ 响应式设计（PC/平板/手机）
- ✨ 毛玻璃 UI 风格

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License

---

**免责声明**：本系统仅供学习和内部使用，请勿用于存储敏感数据。部署前请确保已完成所有安全配置。

